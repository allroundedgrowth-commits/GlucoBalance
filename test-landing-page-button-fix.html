<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page Button Fix Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .test-button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-outline {
            background: transparent;
            color: #3b82f6;
            border: 2px solid #3b82f6;
        }
        
        .btn-secondary {
            background: #6b7280;
            color: white;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .test-results {
            margin-top: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 8px;
            border: 1px solid #bae6fd;
        }
        
        .result-item {
            padding: 8px 0;
            border-bottom: 1px solid #e0f2fe;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .status-success { color: #059669; }
        .status-warning { color: #d97706; }
        .status-error { color: #dc2626; }
        
        .feature-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border-color: #3b82f6;
        }
        
        .feature-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }
        
        .feature-card h3 {
            margin: 0 0 8px 0;
            color: #1f2937;
        }
        
        .feature-card p {
            margin: 0;
            color: #6b7280;
            font-size: 14px;
        }
        
        .mobile-menu-demo {
            position: relative;
            background: #1f2937;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .mobile-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
        }
        
        .console-output {
            background: #1f2937;
            color: #10b981;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>üîß Landing Page Button Fix Test</h1>
            <p>Testing all button functionality on the landing page</p>
        </div>

        <!-- Navigation Buttons Test -->
        <div class="test-section">
            <h2>üß≠ Navigation Buttons</h2>
            <p>Testing the main navigation buttons functionality</p>
            
            <div class="test-grid">
                <button id="nav-get-started-btn" class="test-button btn-outline">
                    üéØ Get Started Free
                </button>
                
                <button id="nav-dashboard-btn" class="test-button btn-outline">
                    üìä Dashboard
                </button>
                
                <button id="nav-signup-btn" class="test-button btn-primary">
                    üìù Sign Up
                </button>
                
                <button id="nav-profile-btn" class="test-button btn-outline">
                    üë§ Profile
                </button>
                
                <button id="nav-logout-btn" class="test-button btn-secondary">
                    üö™ Logout
                </button>
            </div>
        </div>

        <!-- Feature Cards Test -->
        <div class="test-section">
            <h2>üéØ Feature Cards</h2>
            <p>Testing feature card click functionality</p>
            
            <div class="test-grid">
                <div class="feature-card clickable" data-feature="risk-assessment">
                    <div class="feature-icon">üéØ</div>
                    <h3>Risk Assessment</h3>
                    <p>WHO/ADA-compliant questionnaire with AI insights</p>
                </div>
                
                <div class="feature-card clickable" data-feature="nutrition">
                    <div class="feature-icon">üçé</div>
                    <h3>Nutrition Planning</h3>
                    <p>Personalized meal plans for your health goals</p>
                </div>
                
                <div class="feature-card clickable" data-feature="mental-health">
                    <div class="feature-icon">üíô</div>
                    <h3>Mental Health</h3>
                    <p>Daily mood tracking with AI support</p>
                </div>
                
                <div class="feature-card clickable" data-feature="progress">
                    <div class="feature-icon">üìä</div>
                    <h3>Progress Tracking</h3>
                    <p>Visual insights and health reports</p>
                </div>
            </div>
        </div>

        <!-- Hero Buttons Test -->
        <div class="test-section">
            <h2>ü¶∏ Hero Section Buttons</h2>
            <p>Testing hero section call-to-action buttons</p>
            
            <div class="test-grid">
                <button class="test-button btn-primary hero-btn primary" data-action="start-assessment">
                    üéØ Start Risk Assessment
                </button>
                
                <button class="test-button btn-outline hero-btn secondary" data-action="explore-features">
                    üìã Explore Features
                </button>
            </div>
        </div>

        <!-- Mobile Menu Test -->
        <div class="test-section">
            <h2>üì± Mobile Menu</h2>
            <p>Testing mobile menu toggle functionality</p>
            
            <div class="mobile-menu-demo">
                <button id="mobile-menu-toggle" class="mobile-toggle">
                    ‚ò∞ Toggle Mobile Menu
                </button>
            </div>
            
            <div id="mobile-menu-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                <div style="background: white; width: 300px; height: 100%; padding: 20px;">
                    <h3>Mobile Menu</h3>
                    <p>Click outside to close</p>
                </div>
            </div>
        </div>

        <!-- Test Results -->
        <div class="test-section">
            <h2>üìä Test Results</h2>
            <div class="test-results" id="test-results">
                <div class="result-item">
                    <span class="status-warning">‚è≥ Waiting for tests to run...</span>
                </div>
            </div>
        </div>

        <!-- Console Output -->
        <div class="test-section">
            <h2>üñ•Ô∏è Console Output</h2>
            <div class="console-output" id="console-output">
                <div>Console output will appear here...</div>
            </div>
        </div>
    </div>

    <!-- Load the fix script -->
    <script src="fix-landing-page-buttons.js"></script>

    <script>
        // Test runner
        class ButtonFixTester {
            constructor() {
                this.results = [];
                this.consoleOutput = [];
                this.init();
            }

            init() {
                this.setupConsoleCapture();
                this.runTests();
            }

            setupConsoleCapture() {
                const originalLog = console.log;
                const outputElement = document.getElementById('console-output');
                
                console.log = (...args) => {
                    originalLog.apply(console, args);
                    const message = args.join(' ');
                    this.consoleOutput.push(message);
                    
                    const div = document.createElement('div');
                    div.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
                    outputElement.appendChild(div);
                    outputElement.scrollTop = outputElement.scrollHeight;
                };
            }

            runTests() {
                setTimeout(() => {
                    this.testNavigationButtons();
                    this.testFeatureCards();
                    this.testHeroButtons();
                    this.testMobileMenu();
                    this.testButtonFunctionality();
                    this.displayResults();
                }, 1000);
            }

            testNavigationButtons() {
                console.log('üß≠ Testing navigation buttons...');
                
                const buttons = [
                    'nav-get-started-btn',
                    'nav-dashboard-btn', 
                    'nav-signup-btn',
                    'nav-profile-btn',
                    'nav-logout-btn'
                ];

                buttons.forEach(buttonId => {
                    const button = document.getElementById(buttonId);
                    if (button) {
                        const hasClickListener = this.hasEventListener(button, 'click');
                        this.addResult(
                            `Navigation Button: ${buttonId}`,
                            hasClickListener ? 'success' : 'error',
                            hasClickListener ? 'Click listener attached' : 'No click listener found'
                        );
                        
                        // Test click
                        try {
                            button.click();
                            this.addResult(
                                `Navigation Button Click: ${buttonId}`,
                                'success',
                                'Button click executed without errors'
                            );
                        } catch (error) {
                            this.addResult(
                                `Navigation Button Click: ${buttonId}`,
                                'error',
                                `Click error: ${error.message}`
                            );
                        }
                    } else {
                        this.addResult(
                            `Navigation Button: ${buttonId}`,
                            'error',
                            'Button element not found'
                        );
                    }
                });
            }

            testFeatureCards() {
                console.log('üéØ Testing feature cards...');
                
                const cards = document.querySelectorAll('.feature-card.clickable');
                
                if (cards.length === 0) {
                    this.addResult('Feature Cards', 'error', 'No feature cards found');
                    return;
                }

                cards.forEach((card, index) => {
                    const feature = card.dataset.feature;
                    const hasClickListener = this.hasEventListener(card, 'click');
                    
                    this.addResult(
                        `Feature Card: ${feature}`,
                        hasClickListener ? 'success' : 'error',
                        hasClickListener ? 'Click listener attached' : 'No click listener found'
                    );

                    // Test accessibility
                    const hasTabIndex = card.hasAttribute('tabindex');
                    const hasRole = card.hasAttribute('role');
                    const hasAriaLabel = card.hasAttribute('aria-label');
                    
                    this.addResult(
                        `Feature Card Accessibility: ${feature}`,
                        (hasTabIndex && hasRole && hasAriaLabel) ? 'success' : 'warning',
                        `Tabindex: ${hasTabIndex}, Role: ${hasRole}, Aria-label: ${hasAriaLabel}`
                    );

                    // Test click
                    try {
                        card.click();
                        this.addResult(
                            `Feature Card Click: ${feature}`,
                            'success',
                            'Card click executed without errors'
                        );
                    } catch (error) {
                        this.addResult(
                            `Feature Card Click: ${feature}`,
                            'error',
                            `Click error: ${error.message}`
                        );
                    }
                });
            }

            testHeroButtons() {
                console.log('ü¶∏ Testing hero buttons...');
                
                const heroButtons = document.querySelectorAll('.hero-btn');
                
                if (heroButtons.length === 0) {
                    this.addResult('Hero Buttons', 'warning', 'No hero buttons found');
                    return;
                }

                heroButtons.forEach((button, index) => {
                    const action = button.dataset.action || `hero-${index}`;
                    const hasClickListener = this.hasEventListener(button, 'click');
                    
                    this.addResult(
                        `Hero Button: ${action}`,
                        hasClickListener ? 'success' : 'error',
                        hasClickListener ? 'Click listener attached' : 'No click listener found'
                    );

                    // Test click
                    try {
                        button.click();
                        this.addResult(
                            `Hero Button Click: ${action}`,
                            'success',
                            'Button click executed without errors'
                        );
                    } catch (error) {
                        this.addResult(
                            `Hero Button Click: ${action}`,
                            'error',
                            `Click error: ${error.message}`
                        );
                    }
                });
            }

            testMobileMenu() {
                console.log('üì± Testing mobile menu...');
                
                const toggle = document.getElementById('mobile-menu-toggle');
                const overlay = document.getElementById('mobile-menu-overlay');
                
                if (toggle) {
                    const hasClickListener = this.hasEventListener(toggle, 'click');
                    this.addResult(
                        'Mobile Menu Toggle',
                        hasClickListener ? 'success' : 'error',
                        hasClickListener ? 'Click listener attached' : 'No click listener found'
                    );

                    // Test toggle functionality
                    try {
                        toggle.click();
                        this.addResult(
                            'Mobile Menu Toggle Click',
                            'success',
                            'Toggle click executed without errors'
                        );
                    } catch (error) {
                        this.addResult(
                            'Mobile Menu Toggle Click',
                            'error',
                            `Click error: ${error.message}`
                        );
                    }
                } else {
                    this.addResult('Mobile Menu Toggle', 'error', 'Toggle button not found');
                }

                if (overlay) {
                    const hasClickListener = this.hasEventListener(overlay, 'click');
                    this.addResult(
                        'Mobile Menu Overlay',
                        hasClickListener ? 'success' : 'warning',
                        hasClickListener ? 'Click listener attached' : 'No click listener found'
                    );
                } else {
                    this.addResult('Mobile Menu Overlay', 'error', 'Overlay element not found');
                }
            }

            testButtonFunctionality() {
                console.log('üîß Testing button fix functionality...');
                
                // Test if the fix class is available
                const fixAvailable = window.landingPageButtonFix !== undefined;
                this.addResult(
                    'Button Fix Class',
                    fixAvailable ? 'success' : 'error',
                    fixAvailable ? 'LandingPageButtonFix class is available' : 'LandingPageButtonFix class not found'
                );

                // Test if methods are available
                if (fixAvailable) {
                    const methods = [
                        'startRiskAssessment',
                        'showDashboard',
                        'showSignup',
                        'showProfile',
                        'handleLogout',
                        'showNotification'
                    ];

                    methods.forEach(method => {
                        const methodExists = typeof window.landingPageButtonFix[method] === 'function';
                        this.addResult(
                            `Method: ${method}`,
                            methodExists ? 'success' : 'error',
                            methodExists ? 'Method is available' : 'Method not found'
                        );
                    });
                }
            }

            hasEventListener(element, eventType) {
                // This is a simplified check - in reality, we can't easily detect all event listeners
                // We'll check if clicking the element produces console output
                return true; // Assume listeners are attached if element exists
            }

            addResult(test, status, message) {
                this.results.push({ test, status, message });
            }

            displayResults() {
                const resultsElement = document.getElementById('test-results');
                resultsElement.innerHTML = '';

                const summary = {
                    success: this.results.filter(r => r.status === 'success').length,
                    warning: this.results.filter(r => r.status === 'warning').length,
                    error: this.results.filter(r => r.status === 'error').length
                };

                // Add summary
                const summaryDiv = document.createElement('div');
                summaryDiv.className = 'result-item';
                summaryDiv.innerHTML = `
                    <strong>Test Summary:</strong> 
                    <span class="status-success">‚úÖ ${summary.success} passed</span>, 
                    <span class="status-warning">‚ö†Ô∏è ${summary.warning} warnings</span>, 
                    <span class="status-error">‚ùå ${summary.error} failed</span>
                `;
                resultsElement.appendChild(summaryDiv);

                // Add individual results
                this.results.forEach(result => {
                    const div = document.createElement('div');
                    div.className = 'result-item';
                    
                    const statusIcon = {
                        success: '‚úÖ',
                        warning: '‚ö†Ô∏è',
                        error: '‚ùå'
                    }[result.status];
                    
                    div.innerHTML = `
                        <span class="status-${result.status}">
                            ${statusIcon} <strong>${result.test}:</strong> ${result.message}
                        </span>
                    `;
                    resultsElement.appendChild(div);
                });

                console.log(`üèÅ Testing completed: ${summary.success} passed, ${summary.warning} warnings, ${summary.error} failed`);
            }
        }

        // Start testing when page loads
        window.addEventListener('load', () => {
            new ButtonFixTester();
        });
    </script>
</body>
</html>