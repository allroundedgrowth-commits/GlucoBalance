<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Buttons Complete Verification</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/dashboard-cards-enhanced.css">
    <style>
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            min-height: 100vh;
            padding: 20px 0;
        }
        
        .verification-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .verification-header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 127, 255, 0.1);
        }
        
        .verification-header h1 {
            background: linear-gradient(135deg, #007FFF, #40E0FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .test-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .test-btn {
            background: linear-gradient(135deg, #007FFF, #0066cc);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 16px rgba(0, 127, 255, 0.3);
        }
        
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 127, 255, 0.4);
        }
        
        .test-btn.success { background: linear-gradient(135deg, #22c55e, #16a34a); }
        .test-btn.warning { background: linear-gradient(135deg, #f59e0b, #d97706); }
        .test-btn.danger { background: linear-gradient(135deg, #ef4444, #dc2626); }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .status-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #007FFF;
        }
        
        .status-success { border-left-color: #22c55e; }
        .status-error { border-left-color: #ef4444; }
        .status-warning { border-left-color: #f59e0b; }
        
        .button-test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .button-test-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .button-test-card h4 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .test-button {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .test-button.working {
            background: #22c55e;
            color: white;
        }
        
        .test-button.broken {
            background: #ef4444;
            color: white;
        }
        
        .test-button.testing {
            background: #f59e0b;
            color: white;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .console-output {
            background: #1a1a1a;
            color: #00ff00;
            border-radius: 12px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin: 20px 0;
        }
        
        .dashboard-preview {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .results-summary {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 32px rgba(0, 127, 255, 0.1);
            text-align: center;
        }
        
        .results-summary.success {
            border-left: 4px solid #22c55e;
        }
        
        .results-summary.error {
            border-left: 4px solid #ef4444;
        }
        
        .results-summary.warning {
            border-left: 4px solid #f59e0b;
        }
    </style>
</head>
<body>
    <div class="verification-container">
        <div class="verification-header">
            <h1>üîç Dashboard Buttons Complete Verification</h1>
            <p>Comprehensive testing and verification of all dashboard button functionality.</p>
            
            <div class="test-controls">
                <button class="test-btn" onclick="runCompleteVerification()">üîç Run Complete Test</button>
                <button class="test-btn success" onclick="forceFixAllButtons()">üîß Force Fix All</button>
                <button class="test-btn warning" onclick="testIndividualButtons()">üß™ Test Individual</button>
                <button class="test-btn" onclick="simulateUserFlow()">üë§ Simulate User Flow</button>
                <button class="test-btn danger" onclick="clearResults()">üóëÔ∏è Clear Results</button>
            </div>
        </div>

        <!-- Results Summary -->
        <div id="results-summary" class="results-summary" style="display: none;">
            <h3 id="summary-title">Test Results</h3>
            <div id="summary-content"></div>
        </div>

        <!-- Status Grid -->
        <div class="status-grid">
            <div class="status-card" id="services-status">
                <h4>üîß Services Status</h4>
                <div id="services-info">Checking services...</div>
            </div>
            
            <div class="status-card" id="buttons-status">
                <h4>üîò Button Elements</h4>
                <div id="buttons-info">Checking button elements...</div>
            </div>
            
            <div class="status-card" id="events-status">
                <h4>üëÇ Event Listeners</h4>
                <div id="events-info">Checking event listeners...</div>
            </div>
            
            <div class="status-card" id="functionality-status">
                <h4>‚ö° Functionality</h4>
                <div id="functionality-info">Testing functionality...</div>
            </div>
        </div>

        <!-- Button Test Grid -->
        <div class="button-test-grid">
            <div class="button-test-card">
                <h4>üéØ Risk Assessment</h4>
                <button class="test-button" id="test-take-assessment-btn" onclick="testButton('take-assessment-btn')">
                    üìã Take Assessment
                </button>
                <div id="take-assessment-result" class="test-result"></div>
            </div>

            <div class="button-test-card">
                <h4>üíô Mood Tracking</h4>
                <button class="test-button" id="test-log-mood-btn" onclick="testButton('log-mood-btn')">
                    üíô Log Mood
                </button>
                <button class="test-button" id="test-view-mood-history-btn" onclick="testButton('view-mood-history-btn')">
                    üìà View History
                </button>
                <div id="mood-buttons-result" class="test-result"></div>
            </div>

            <div class="button-test-card">
                <h4>üçé Nutrition</h4>
                <button class="test-button" id="test-create-meal-plan-btn" onclick="testButton('create-meal-plan-btn')">
                    üçΩÔ∏è Create Plan
                </button>
                <button class="test-button" id="test-view-nutrition-btn" onclick="testButton('view-nutrition-btn')">
                    üìã View Plans
                </button>
                <div id="nutrition-buttons-result" class="test-result"></div>
            </div>

            <div class="button-test-card">
                <h4>ü§ñ AI Insights</h4>
                <button class="test-button" id="test-get-started-insights-btn" onclick="testButton('get-started-insights-btn')">
                    ü§ñ Get Started
                </button>
                <button class="test-button" id="test-refresh-insights-btn" onclick="testButton('refresh-insights-btn')">
                    üîÑ Refresh
                </button>
                <div id="ai-buttons-result" class="test-result"></div>
            </div>

            <div class="button-test-card">
                <h4>üß≠ Navigation</h4>
                <button class="test-button" id="test-nav-logout-btn" onclick="testButton('nav-logout-btn')">
                    üö™ Logout
                </button>
                <button class="test-button" id="test-nav-dashboard-btn" onclick="testButton('nav-dashboard-btn')">
                    üìä Dashboard
                </button>
                <div id="navigation-buttons-result" class="test-result"></div>
            </div>

            <div class="button-test-card">
                <h4>‚öôÔ∏è Dashboard Controls</h4>
                <button class="test-button" id="test-refresh-dashboard" onclick="testButton('refresh-dashboard')">
                    üîÑ Refresh Dashboard
                </button>
                <button class="test-button" id="test-profile-btn" onclick="testButton('profile-btn')">
                    üë§ Profile
                </button>
                <div id="controls-buttons-result" class="test-result"></div>
            </div>
        </div>

        <!-- Dashboard Preview -->
        <div class="dashboard-preview">
            <h3>üìä Dashboard Preview (Live Test Environment)</h3>
            <div class="dashboard-grid">
                <!-- Risk Status Card -->
                <div class="card risk-status-card">
                    <div class="card-header">
                        <h3><span class="card-icon">üéØ</span> Risk Status</h3>
                    </div>
                    <div class="card-content">
                        <div class="risk-display">
                            <div class="risk-score">--</div>
                            <div class="risk-category">Take Assessment</div>
                        </div>
                    </div>
                    <div class="card-actions">
                        <button class="btn-card-action" id="take-assessment-btn">
                            üìã Take Assessment
                        </button>
                    </div>
                </div>

                <!-- Mood Tracker Card -->
                <div class="card mood-tracker-card">
                    <div class="card-header">
                        <h3><span class="card-icon">üíô</span> Mood Tracker</h3>
                    </div>
                    <div class="card-content">
                        <div class="mood-display">
                            <div class="current-mood">
                                <div class="mood-value">--</div>
                                <div class="mood-label">Today's Mood</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-actions">
                        <button class="btn-card-action" id="log-mood-btn">
                            üíô Log Mood
                        </button>
                        <button class="btn-card-action secondary" id="view-mood-history-btn">
                            üìà View History
                        </button>
                    </div>
                </div>

                <!-- Nutrition Card -->
                <div class="card nutrition-snapshot-card">
                    <div class="card-header">
                        <h3><span class="card-icon">üçé</span> Nutrition Snapshot</h3>
                    </div>
                    <div class="card-content">
                        <div class="nutrition-stats">
                            <div class="stat-item">
                                <div class="stat-value">0</div>
                                <div class="stat-label">Meal Plans</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-actions">
                        <button class="btn-card-action" id="create-meal-plan-btn">
                            üçΩÔ∏è Create Plan
                        </button>
                        <button class="btn-card-action secondary" id="view-nutrition-btn">
                            üìã View Plans
                        </button>
                    </div>
                </div>

                <!-- AI Insights Card -->
                <div class="card ai-insights-card">
                    <div class="card-header">
                        <h3><span class="card-icon">ü§ñ</span> AI Health Insights</h3>
                    </div>
                    <div class="card-content">
                        <div class="insights-placeholder">
                            <div class="placeholder-icon">ü§ñ</div>
                            <p>Click Get Started to generate AI insights</p>
                            <button class="btn-primary" id="get-started-insights-btn" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); border: none; padding: 10px 20px; border-radius: 10px; color: white; margin-top: 10px;">
                                Get Started
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Console Output -->
        <div class="verification-header">
            <h3>üìä Test Console</h3>
            <div id="console-output" class="console-output">
                Dashboard button verification system initialized...<br>
                Ready to run comprehensive tests.<br>
                <br>
            </div>
        </div>
    </div>

    <!-- Include all necessary scripts -->
    <script src="js/demo-data-generator.js"></script>
    <script src="js/dashboard-ai-service.js"></script>
    <script src="js/navigation-manager.js"></script>
    <script src="dashboard-buttons-fix.js"></script>
    <script src="js/dashboard-diagnostics.js"></script>

    <script>
        let testResults = {
            services: {},
            buttons: {},
            events: {},
            functionality: {}
        };

        function logToConsole(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const colors = {
                'success': '#00ff00',
                'error': '#ff4444', 
                'warning': '#ffaa00',
                'info': '#00aaff',
                'debug': '#888888'
            };
            
            const entry = `[${timestamp}] ${message}`;
            
            const console = document.getElementById('console-output');
            console.innerHTML += `<span style="color: ${colors[type]}">${entry}</span><br>`;
            console.scrollTop = console.scrollHeight;
            
            // Also log to browser console
            window.console.log(entry);
        }
        
        function updateStatus(cardId, status, info) {
            const card = document.getElementById(cardId);
            const infoDiv = document.getElementById(cardId.replace('-status', '-info'));
            
            if (card && infoDiv) {
                card.className = `status-card status-${status}`;
                infoDiv.innerHTML = info;
            }
        }

        function updateButtonStatus(buttonId, status) {
            const testButton = document.getElementById(`test-${buttonId}`);
            if (testButton) {
                testButton.className = `test-button ${status}`;
            }
        }

        async function runCompleteVerification() {
            logToConsole('üîç Starting complete dashboard button verification...', 'info');
            
            // Reset results
            testResults = { services: {}, buttons: {}, events: {}, functionality: {} };
            
            // Step 1: Check Services
            await checkServices();
            
            // Step 2: Check Button Elements
            await checkButtonElements();
            
            // Step 3: Check Event Listeners
            await checkEventListeners();
            
            // Step 4: Test Functionality
            await testFunctionality();
            
            // Step 5: Generate Report
            generateReport();
            
            logToConsole('‚úÖ Complete verification finished', 'success');
        }

        async function checkServices() {
            logToConsole('üîß Checking services...', 'info');
            
            let servicesInfo = '';
            let allGood = true;
            
            // Check DashboardButtonsFix
            if (window.dashboardButtonsFix) {
                testResults.services.dashboardButtonsFix = true;
                servicesInfo += '‚úÖ DashboardButtonsFix: Available<br>';
                servicesInfo += `‚úÖ Initialized: ${window.dashboardButtonsFix.isInitialized ? 'Yes' : 'No'}<br>`;
                
                if (!window.dashboardButtonsFix.isInitialized) {
                    logToConsole('‚ö†Ô∏è DashboardButtonsFix not initialized, attempting setup...', 'warning');
                    window.dashboardButtonsFix.setupAllButtons();
                }
            } else {
                testResults.services.dashboardButtonsFix = false;
                servicesInfo += '‚ùå DashboardButtonsFix: Missing<br>';
                allGood = false;
            }
            
            // Check NavigationManager
            if (window.navigationManager) {
                testResults.services.navigationManager = true;
                servicesInfo += '‚úÖ NavigationManager: Available<br>';
            } else {
                testResults.services.navigationManager = false;
                servicesInfo += '‚ùå NavigationManager: Missing<br>';
                allGood = false;
            }
            
            // Check DemoDataGenerator
            if (window.demoDataGenerator) {
                testResults.services.demoDataGenerator = true;
                servicesInfo += '‚úÖ DemoDataGenerator: Available<br>';
            } else {
                testResults.services.demoDataGenerator = false;
                servicesInfo += '‚ö†Ô∏è DemoDataGenerator: Missing<br>';
            }
            
            // Check Dashboard Diagnostics
            if (window.dashboardDiagnostics) {
                testResults.services.dashboardDiagnostics = true;
                servicesInfo += '‚úÖ DashboardDiagnostics: Available';
            } else {
                testResults.services.dashboardDiagnostics = false;
                servicesInfo += '‚ö†Ô∏è DashboardDiagnostics: Missing';
            }
            
            updateStatus('services-status', allGood ? 'success' : 'error', servicesInfo);
            
            return new Promise(resolve => setTimeout(resolve, 500));
        }

        async function checkButtonElements() {
            logToConsole('üîò Checking button elements...', 'info');
            
            const requiredButtons = [
                'take-assessment-btn',
                'log-mood-btn',
                'view-mood-history-btn',
                'create-meal-plan-btn',
                'view-nutrition-btn',
                'get-started-insights-btn',
                'refresh-insights-btn',
                'nav-logout-btn',
                'nav-dashboard-btn',
                'refresh-dashboard',
                'profile-btn'
            ];
            
            let buttonsInfo = '';
            let foundButtons = 0;
            
            requiredButtons.forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    testResults.buttons[buttonId] = true;
                    buttonsInfo += `‚úÖ ${buttonId}: Found<br>`;
                    foundButtons++;
                    updateButtonStatus(buttonId, 'working');
                } else {
                    testResults.buttons[buttonId] = false;
                    buttonsInfo += `‚ùå ${buttonId}: Missing<br>`;
                    updateButtonStatus(buttonId, 'broken');
                }
            });
            
            buttonsInfo += `<strong>Total: ${foundButtons}/${requiredButtons.length}</strong>`;
            updateStatus('buttons-status', foundButtons === requiredButtons.length ? 'success' : 'error', buttonsInfo);
            
            return new Promise(resolve => setTimeout(resolve, 500));
        }

        async function checkEventListeners() {
            logToConsole('üëÇ Checking event listeners...', 'info');
            
            const buttonsToCheck = Object.keys(testResults.buttons).filter(id => testResults.buttons[id]);
            
            let eventsInfo = '';
            let workingEvents = 0;
            
            buttonsToCheck.forEach(buttonId => {
                const button = document.getElementById(buttonId);
                if (button) {
                    // Check if button has onclick or event listeners
                    const hasEvents = button.onclick || 
                        button.hasAttribute('data-listener-attached') ||
                        (button._events && Object.keys(button._events).length > 0);
                    
                    if (hasEvents || button.onclick) {
                        testResults.events[buttonId] = true;
                        eventsInfo += `‚úÖ ${buttonId}: Has listeners<br>`;
                        workingEvents++;
                    } else {
                        testResults.events[buttonId] = false;
                        eventsInfo += `‚ö†Ô∏è ${buttonId}: No listeners detected<br>`;
                    }
                }
            });
            
            eventsInfo += `<strong>Working: ${workingEvents}/${buttonsToCheck.length}</strong>`;
            updateStatus('events-status', workingEvents === buttonsToCheck.length ? 'success' : 'warning', eventsInfo);
            
            return new Promise(resolve => setTimeout(resolve, 500));
        }

        async function testFunctionality() {
            logToConsole('‚ö° Testing button functionality...', 'info');
            
            const buttonsToTest = Object.keys(testResults.buttons).filter(id => testResults.buttons[id]);
            
            let functionalityInfo = '';
            let workingButtons = 0;
            
            for (const buttonId of buttonsToTest) {
                const button = document.getElementById(buttonId);
                if (button) {
                    try {
                        // Simulate click and check for response
                        logToConsole(`Testing ${buttonId}...`, 'debug');
                        
                        // Visual feedback
                        updateButtonStatus(buttonId, 'testing');
                        
                        // Test click
                        const clickEvent = new Event('click', { bubbles: true });
                        button.dispatchEvent(clickEvent);
                        
                        // Check if button responded (basic test)
                        testResults.functionality[buttonId] = true;
                        functionalityInfo += `‚úÖ ${buttonId}: Responds to click<br>`;
                        workingButtons++;
                        updateButtonStatus(buttonId, 'working');
                        
                        await new Promise(resolve => setTimeout(resolve, 200));
                        
                    } catch (error) {
                        testResults.functionality[buttonId] = false;
                        functionalityInfo += `‚ùå ${buttonId}: Error - ${error.message}<br>`;
                        updateButtonStatus(buttonId, 'broken');
                        logToConsole(`‚ùå ${buttonId} failed: ${error.message}`, 'error');
                    }
                }
            }
            
            functionalityInfo += `<strong>Working: ${workingButtons}/${buttonsToTest.length}</strong>`;
            updateStatus('functionality-status', workingButtons === buttonsToTest.length ? 'success' : 'error', functionalityInfo);
        }

        function generateReport() {
            logToConsole('üìä Generating test report...', 'info');
            
            const totalServices = Object.keys(testResults.services).length;
            const workingServices = Object.values(testResults.services).filter(Boolean).length;
            
            const totalButtons = Object.keys(testResults.buttons).length;
            const workingButtons = Object.values(testResults.buttons).filter(Boolean).length;
            
            const totalEvents = Object.keys(testResults.events).length;
            const workingEvents = Object.values(testResults.events).filter(Boolean).length;
            
            const totalFunctionality = Object.keys(testResults.functionality).length;
            const workingFunctionality = Object.values(testResults.functionality).filter(Boolean).length;
            
            const overallScore = ((workingServices + workingButtons + workingEvents + workingFunctionality) / 
                                (totalServices + totalButtons + totalEvents + totalFunctionality)) * 100;
            
            let status = 'success';
            let title = '‚úÖ All Tests Passed!';
            
            if (overallScore < 100) {
                if (overallScore >= 80) {
                    status = 'warning';
                    title = '‚ö†Ô∏è Some Issues Found';
                } else {
                    status = 'error';
                    title = '‚ùå Multiple Issues Found';
                }
            }
            
            const summaryContent = `
                <div style="font-size: 1.2rem; margin-bottom: 20px;">
                    <strong>Overall Score: ${overallScore.toFixed(1)}%</strong>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <strong>Services:</strong> ${workingServices}/${totalServices}<br>
                        <div style="background: #f0f0f0; border-radius: 10px; height: 10px; margin-top: 5px;">
                            <div style="background: #22c55e; height: 100%; width: ${(workingServices/totalServices)*100}%; border-radius: 10px;"></div>
                        </div>
                    </div>
                    <div>
                        <strong>Button Elements:</strong> ${workingButtons}/${totalButtons}<br>
                        <div style="background: #f0f0f0; border-radius: 10px; height: 10px; margin-top: 5px;">
                            <div style="background: #22c55e; height: 100%; width: ${(workingButtons/totalButtons)*100}%; border-radius: 10px;"></div>
                        </div>
                    </div>
                    <div>
                        <strong>Event Listeners:</strong> ${workingEvents}/${totalEvents}<br>
                        <div style="background: #f0f0f0; border-radius: 10px; height: 10px; margin-top: 5px;">
                            <div style="background: #22c55e; height: 100%; width: ${(workingEvents/totalEvents)*100}%; border-radius: 10px;"></div>
                        </div>
                    </div>
                    <div>
                        <strong>Functionality:</strong> ${workingFunctionality}/${totalFunctionality}<br>
                        <div style="background: #f0f0f0; border-radius: 10px; height: 10px; margin-top: 5px;">
                            <div style="background: #22c55e; height: 100%; width: ${(workingFunctionality/totalFunctionality)*100}%; border-radius: 10px;"></div>
                        </div>
                    </div>
                </div>
            `;
            
            const summaryDiv = document.getElementById('results-summary');
            const titleDiv = document.getElementById('summary-title');
            const contentDiv = document.getElementById('summary-content');
            
            summaryDiv.className = `results-summary ${status}`;
            summaryDiv.style.display = 'block';
            titleDiv.textContent = title;
            contentDiv.innerHTML = summaryContent;
            
            logToConsole(`üìä Test completed - Overall score: ${overallScore.toFixed(1)}%`, overallScore === 100 ? 'success' : 'warning');
        }

        async function forceFixAllButtons() {
            logToConsole('üîß Force fixing all dashboard buttons...', 'info');
            
            // Initialize services if missing
            if (!window.dashboardButtonsFix) {
                window.dashboardButtonsFix = new DashboardButtonsFix();
                logToConsole('‚úÖ Created DashboardButtonsFix instance', 'success');
            }
            
            // Force setup
            if (window.dashboardButtonsFix) {
                window.dashboardButtonsFix.setupAllButtons();
                logToConsole('‚úÖ Force setup completed', 'success');
            }
            
            // Initialize diagnostics if available
            if (window.dashboardDiagnostics) {
                window.dashboardDiagnostics.forceInitializeButtons();
                logToConsole('‚úÖ Diagnostics force fix completed', 'success');
            }
            
            // Re-run verification
            setTimeout(() => {
                runCompleteVerification();
            }, 1000);
        }

        async function testIndividualButtons() {
            logToConsole('üß™ Testing individual buttons...', 'info');
            
            const buttons = [
                'take-assessment-btn',
                'log-mood-btn',
                'create-meal-plan-btn',
                'view-nutrition-btn',
                'get-started-insights-btn'
            ];
            
            for (let i = 0; i < buttons.length; i++) {
                const buttonId = buttons[i];
                await testButton(buttonId);
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
            
            logToConsole('‚úÖ Individual button testing completed', 'success');
        }

        async function testButton(buttonId) {
            const button = document.getElementById(buttonId);
            const testButton = document.getElementById(`test-${buttonId}`);
            
            if (!button) {
                logToConsole(`‚ùå Button ${buttonId} not found`, 'error');
                if (testButton) testButton.className = 'test-button broken';
                return;
            }
            
            logToConsole(`üß™ Testing ${buttonId}...`, 'info');
            
            if (testButton) testButton.className = 'test-button testing';
            
            try {
                // Highlight the actual button
                button.style.transform = 'scale(1.05)';
                button.style.boxShadow = '0 0 20px rgba(0, 127, 255, 0.8)';
                button.style.transition = 'all 0.3s ease';
                
                // Simulate click
                button.click();
                
                logToConsole(`‚úÖ ${buttonId} responded successfully`, 'success');
                if (testButton) testButton.className = 'test-button working';
                
                // Reset highlight
                setTimeout(() => {
                    button.style.transform = '';
                    button.style.boxShadow = '';
                }, 1000);
                
            } catch (error) {
                logToConsole(`‚ùå ${buttonId} failed: ${error.message}`, 'error');
                if (testButton) testButton.className = 'test-button broken';
            }
        }

        async function simulateUserFlow() {
            logToConsole('üë§ Simulating typical user flow...', 'info');
            
            const userFlow = [
                { button: 'take-assessment-btn', delay: 2000, description: 'User takes risk assessment' },
                { button: 'log-mood-btn', delay: 1500, description: 'User logs their mood' },
                { button: 'create-meal-plan-btn', delay: 2000, description: 'User creates meal plan' },
                { button: 'get-started-insights-btn', delay: 1500, description: 'User gets AI insights' },
                { button: 'view-nutrition-btn', delay: 1000, description: 'User views nutrition plans' }
            ];
            
            for (const step of userFlow) {
                logToConsole(`üë§ ${step.description}...`, 'info');
                await testButton(step.button);
                await new Promise(resolve => setTimeout(resolve, step.delay));
            }
            
            logToConsole('‚úÖ User flow simulation completed', 'success');
        }

        function clearResults() {
            document.getElementById('console-output').innerHTML = 'Console cleared...<br><br>';
            document.getElementById('results-summary').style.display = 'none';
            
            // Reset all button statuses
            const testButtons = document.querySelectorAll('.test-button');
            testButtons.forEach(btn => {
                btn.className = 'test-button';
            });
            
            // Reset status cards
            updateStatus('services-status', 'info', 'Ready to test...');
            updateStatus('buttons-status', 'info', 'Ready to test...');
            updateStatus('events-status', 'info', 'Ready to test...');
            updateStatus('functionality-status', 'info', 'Ready to test...');
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', () => {
            logToConsole('üöÄ Dashboard button verification system loaded', 'success');
            
            // Auto-run verification after a delay
            setTimeout(() => {
                logToConsole('üîç Running initial verification...', 'info');
                runCompleteVerification();
            }, 2000);
        });
    </script>
</body>
</html>