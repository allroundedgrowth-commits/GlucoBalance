<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updated Landing Page Test - GlucoBalance</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
        }
        .test-section {
            margin: 2rem 0;
            padding: 1.5rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .test-result {
            margin: 1rem 0;
            padding: 1rem;
            border-radius: 4px;
        }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .warning { background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
        button {
            background: #007FFF;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.5rem;
        }
        button:hover {
            background: #0056CC;
        }
        .change-list {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            margin: 1rem 0;
        }
        .change-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        .change-item:last-child {
            border-bottom: none;
        }
        .change-status {
            font-weight: bold;
            margin-right: 0.5rem;
        }
        .implemented { color: #28a745; }
        .pending { color: #ffc107; }
    </style>
</head>
<body>
    <h1>üîÑ Updated Landing Page Test</h1>
    <p>This page tests the requested changes to the GlucoBalance landing page.</p>

    <div class="test-section">
        <h2>üìã Requested Changes Status</h2>
        <p>Verification of all requested modifications:</p>
        
        <div class="change-list">
            <div class="change-item">
                <span class="change-status implemented">‚úÖ</span>
                <strong>Remove download app button:</strong> Removed from footer section
            </div>
            <div class="change-item">
                <span class="change-status implemented">‚úÖ</span>
                <strong>Add Dashboard to navigation:</strong> Added "Dashboard" link to top menu bar
            </div>
            <div class="change-item">
                <span class="change-status implemented">‚úÖ</span>
                <strong>Remove "Start Risk Assessment" button:</strong> Removed from CTA section
            </div>
            <div class="change-item">
                <span class="change-status implemented">‚úÖ</span>
                <strong>Risk Assessment direct access:</strong> Card now starts assessment directly when clicked
            </div>
            <div class="change-item">
                <span class="change-status implemented">‚úÖ</span>
                <strong>No login required for assessment:</strong> Risk assessment accessible without authentication
            </div>
        </div>
        
        <button onclick="testChanges()">Verify All Changes</button>
        <div id="changes-results"></div>
    </div>

    <div class="test-section">
        <h2>üéØ Risk Assessment Direct Access Test</h2>
        <p>Testing the Risk Assessment card for direct access functionality.</p>
        <button onclick="testRiskAssessmentAccess()">Test Risk Assessment Card</button>
        <div id="risk-assessment-results"></div>
    </div>

    <div class="test-section">
        <h2>üß≠ Navigation Updates Test</h2>
        <p>Testing the updated navigation with Dashboard link.</p>
        <button onclick="testNavigationUpdates()">Test Navigation</button>
        <div id="navigation-results"></div>
    </div>

    <div class="test-section">
        <h2>üì± Mobile Menu Test</h2>
        <p>Testing mobile menu with Dashboard link.</p>
        <button onclick="testMobileMenu()">Test Mobile Menu</button>
        <div id="mobile-menu-results"></div>
    </div>

    <div class="test-section">
        <h2>üîÑ Page Transitions Test</h2>
        <p>Testing page transitions and navigation flow.</p>
        <button onclick="testPageTransitions()">Test Page Transitions</button>
        <div id="transitions-results"></div>
    </div>

    <!-- Load the updated landing page script -->
    <script src="js/landing-page.js"></script>

    <script>
        // Test all requested changes
        function testChanges() {
            const resultsDiv = document.getElementById('changes-results');
            let results = [];

            try {
                // Test 1: Check if download app button is removed
                const downloadBtn = document.querySelector('.footer-cta');
                if (!downloadBtn || downloadBtn.textContent !== 'Download App') {
                    results.push('‚úÖ Download app button removed from footer');
                } else {
                    results.push('‚ùå Download app button still present');
                }

                // Test 2: Check if Dashboard link is in navigation
                const dashboardLink = document.getElementById('nav-dashboard-link');
                const mobileDashboardLink = document.getElementById('mobile-dashboard-link');
                if (dashboardLink && mobileDashboardLink) {
                    results.push('‚úÖ Dashboard link added to navigation menus');
                } else {
                    results.push('‚ùå Dashboard link not found in navigation');
                }

                // Test 3: Check if Start Risk Assessment button is removed
                const startAssessmentBtn = document.getElementById('start-assessment-btn');
                if (!startAssessmentBtn) {
                    results.push('‚úÖ Start Risk Assessment button removed');
                } else {
                    results.push('‚ùå Start Risk Assessment button still present');
                }

                // Test 4: Check if CTA section has new text
                const ctaText = document.querySelector('.cta-text');
                if (ctaText && ctaText.textContent.includes('Click on any feature card')) {
                    results.push('‚úÖ CTA section updated with new text');
                } else {
                    results.push('‚ùå CTA section not updated');
                }

                // Test 5: Check if landing page manager has updated functionality
                if (window.landingPageManager && typeof window.landingPageManager.handleFeatureCardClick === 'function') {
                    results.push('‚úÖ Updated feature card handling implemented');
                } else {
                    results.push('‚ùå Updated feature card handling not found');
                }

                resultsDiv.innerHTML = `
                    <div class="test-result success">
                        <h4>Changes Verification Results</h4>
                        ${results.map(result => `<p>${result}</p>`).join('')}
                    </div>
                `;

            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="test-result error">
                        <h4>Changes Verification Failed</h4>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }

        // Test Risk Assessment Direct Access
        function testRiskAssessmentAccess() {
            const resultsDiv = document.getElementById('risk-assessment-results');
            
            try {
                if (window.landingPageManager) {
                    const riskAssessmentData = window.landingPageManager.featureData['risk-assessment'];
                    
                    if (riskAssessmentData && riskAssessmentData.directAccess) {
                        resultsDiv.innerHTML = `
                            <div class="test-result success">
                                <h4>Risk Assessment Direct Access Test</h4>
                                <p>‚úÖ Risk Assessment configured for direct access</p>
                                <p>‚úÖ No login required: ${riskAssessmentData.directAccess}</p>
                                <p><strong>Action:</strong> ${riskAssessmentData.action}</p>
                                <p><em>Click the Risk Assessment card on the main page to test direct access</em></p>
                            </div>
                        `;
                        
                        // Test the direct access functionality
                        setTimeout(() => {
                            console.log('Testing Risk Assessment direct access...');
                            // This would normally trigger the assessment
                            // window.landingPageManager.startRiskAssessment();
                        }, 1000);
                        
                    } else {
                        resultsDiv.innerHTML = `
                            <div class="test-result error">
                                <h4>Risk Assessment Direct Access Test</h4>
                                <p>‚ùå Risk Assessment not configured for direct access</p>
                            </div>
                        `;
                    }
                } else {
                    resultsDiv.innerHTML = `
                        <div class="test-result warning">
                            <h4>Risk Assessment Direct Access Test</h4>
                            <p>Landing page manager not available</p>
                        </div>
                    `;
                }
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="test-result error">
                        <h4>Risk Assessment Direct Access Test Failed</h4>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }

        // Test Navigation Updates
        function testNavigationUpdates() {
            const resultsDiv = document.getElementById('navigation-results');
            let results = [];

            try {
                // Check desktop navigation
                const navMenu = document.getElementById('nav-menu');
                const dashboardLink = document.getElementById('nav-dashboard-link');
                
                if (navMenu && dashboardLink) {
                    results.push('‚úÖ Dashboard link found in desktop navigation');
                    
                    // Test click functionality
                    if (typeof window.landingPageManager.showDashboard === 'function') {
                        results.push('‚úÖ Dashboard navigation function available');
                    } else {
                        results.push('‚ùå Dashboard navigation function not found');
                    }
                } else {
                    results.push('‚ùå Dashboard link not found in desktop navigation');
                }

                // Check auth buttons
                const loginBtn = document.getElementById('nav-login-btn');
                const signupBtn = document.getElementById('nav-signup-btn');
                
                if (loginBtn && signupBtn) {
                    results.push('‚úÖ Login and Sign Up buttons present in navigation');
                } else {
                    results.push('‚ùå Auth buttons not found in navigation');
                }

                resultsDiv.innerHTML = `
                    <div class="test-result info">
                        <h4>Navigation Updates Test Results</h4>
                        ${results.map(result => `<p>${result}</p>`).join('')}
                    </div>
                `;

            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="test-result error">
                        <h4>Navigation Updates Test Failed</h4>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }

        // Test Mobile Menu
        function testMobileMenu() {
            const resultsDiv = document.getElementById('mobile-menu-results');
            let results = [];

            try {
                // Check mobile navigation elements
                const mobileNavLinks = document.querySelector('.mobile-nav-links');
                const mobileDashboardLink = document.getElementById('mobile-dashboard-link');
                const mobileAuthButtons = document.querySelector('.mobile-auth-buttons');
                
                if (mobileNavLinks && mobileDashboardLink) {
                    results.push('‚úÖ Dashboard link found in mobile navigation');
                } else {
                    results.push('‚ùå Dashboard link not found in mobile navigation');
                }

                if (mobileAuthButtons) {
                    results.push('‚úÖ Mobile auth buttons present');
                } else {
                    results.push('‚ùå Mobile auth buttons not found');
                }

                // Test mobile menu functionality
                if (window.landingPageManager && typeof window.landingPageManager.toggleMobileMenu === 'function') {
                    results.push('‚úÖ Mobile menu toggle functionality available');
                } else {
                    results.push('‚ùå Mobile menu toggle functionality not found');
                }

                resultsDiv.innerHTML = `
                    <div class="test-result info">
                        <h4>Mobile Menu Test Results</h4>
                        ${results.map(result => `<p>${result}</p>`).join('')}
                    </div>
                `;

            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="test-result error">
                        <h4>Mobile Menu Test Failed</h4>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }

        // Test Page Transitions
        function testPageTransitions() {
            const resultsDiv = document.getElementById('transitions-results');
            let results = [];

            try {
                if (window.landingPageManager) {
                    // Test page navigation methods
                    const navigationMethods = [
                        'hideLandingPage',
                        'showLandingPage',
                        'showPage',
                        'showDashboard'
                    ];

                    navigationMethods.forEach(method => {
                        if (typeof window.landingPageManager[method] === 'function') {
                            results.push(`‚úÖ ${method} method available`);
                        } else {
                            results.push(`‚ùå ${method} method not found`);
                        }
                    });

                    // Test page elements
                    const landingPage = document.getElementById('landing-page');
                    const dashboardPage = document.getElementById('dashboard-page');
                    
                    if (landingPage && dashboardPage) {
                        results.push('‚úÖ Landing and Dashboard pages found');
                    } else {
                        results.push('‚ùå Required pages not found');
                    }

                    resultsDiv.innerHTML = `
                        <div class="test-result success">
                            <h4>Page Transitions Test Results</h4>
                            ${results.map(result => `<p>${result}</p>`).join('')}
                            <p><em>Page transition functionality is ready for testing</em></p>
                        </div>
                    `;
                } else {
                    resultsDiv.innerHTML = `
                        <div class="test-result warning">
                            <h4>Page Transitions Test</h4>
                            <p>Landing page manager not available</p>
                        </div>
                    `;
                }
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="test-result error">
                        <h4>Page Transitions Test Failed</h4>
                        <p>Error: ${error.message}</p>
                    </div>
                `;
            }
        }

        // Auto-run tests on page load
        window.addEventListener('load', () => {
            console.log('Updated landing page test loaded');
            
            // Auto-test changes after a short delay
            setTimeout(() => {
                testChanges();
            }, 1000);
        });
    </script>

    <div style="margin-top: 2rem; padding: 1rem; background: #e3f2fd; border-radius: 8px;">
        <h3>üéØ Updated Landing Page Summary</h3>
        <p>All requested changes have been implemented:</p>
        <ul>
            <li>‚úÖ Removed "Download App" button (mobile-first web app)</li>
            <li>‚úÖ Added "Dashboard" link to navigation menu</li>
            <li>‚úÖ Removed "Start Risk Assessment" button from CTA section</li>
            <li>‚úÖ Risk Assessment card now starts assessment directly when clicked</li>
            <li>‚úÖ Risk Assessment accessible without login requirement</li>
            <li>‚úÖ Updated CTA section with instructional text</li>
            <li>‚úÖ Enhanced mobile navigation with Dashboard access</li>
        </ul>
        <p><strong>User Flow:</strong> Users can now click the Risk Assessment card to start immediately, or use the Dashboard link in the navigation to access the full application (with login prompt if needed).</p>
    </div>
</body>
</html>